{"ast":null,"code":"import React from\"react\";import\"../css/PostDetail.css\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PostDetail(_ref){var item=_ref.item,toggleDetails=_ref.toggleDetails;var picLink=\"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\";var navigate=useNavigate();// Toast functions\nvar notifyA=function notifyA(msg){return toast.error(msg);};var notifyB=function notifyB(msg){return toast.success(msg);};var removePost=function removePost(postId){if(window.confirm(\"Do you really want to delete this post ?\")){fetch(\"/deletePost/\".concat(postId),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);toggleDetails();navigate(\"/\");notifyB(result.message);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"showComment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"postPic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",style:{borderBottom:\"1px solid #00000029\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-pic\",children:/*#__PURE__*/_jsx(\"img\",{src:item.postedBy.Photo?item.postedBy.Photo:picLink,alt:\"\"})}),/*#__PURE__*/_jsx(\"h5\",{children:item.postedBy.name}),/*#__PURE__*/_jsx(\"div\",{className:\"deletePost\",onClick:function onClick(){removePost(item._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"delete\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"comment-section\",style:{borderBottom:\"1px solid #00000029\"},children:item.comments.map(function(comment){return/*#__PURE__*/_jsxs(\"p\",{className:\"comm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"commenter\",style:{fontWeight:\"bolder\"},children:[comment.postedBy.name,\" \"]}),/*#__PURE__*/_jsx(\"span\",{className:\"commentText\",children:comment.comment})]});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[item.likes.length,\" Likes\"]}),/*#__PURE__*/_jsx(\"p\",{children:item.body})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"mood\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Add a comment\"//   value={comment}\n//   onChange={(e) => {\n//     setComment(e.target.value);\n//   }}\n}),/*#__PURE__*/_jsx(\"button\",{className:\"comment\"//   onClick={() => {\n//     makeComment(comment, item._id);\n//     toggleComment();\n//   }}\n,children:\"Post\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"close-comment\",onClick:function onClick(){toggleDetails();},children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined material-symbols-outlined-comment\",children:\"close\"})})]});}","map":{"version":3,"names":["React","useNavigate","toast","PostDetail","item","toggleDetails","picLink","navigate","notifyA","msg","error","notifyB","success","removePost","postId","window","confirm","fetch","method","headers","Authorization","localStorage","getItem","then","res","json","result","console","log","message","photo","borderBottom","postedBy","Photo","name","_id","comments","map","comment","fontWeight","likes","length","body"],"sources":["C:/Users/DELL/OneDrive/Desktop/mern/Insta-Clone/frontend/src/components/PostDetail.js"],"sourcesContent":["import React from \"react\";\r\nimport \"../css/PostDetail.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport default function PostDetail({ item, toggleDetails }) {\r\n  var picLink = \"https://cdn-icons-png.flaticon.com/128/3177/3177440.png\"\r\n  const navigate = useNavigate();\r\n\r\n  // Toast functions\r\n  const notifyA = (msg) => toast.error(msg);\r\n  const notifyB = (msg) => toast.success(msg);\r\n\r\n  const removePost = (postId) => {\r\n    if (window.confirm(\"Do you really want to delete this post ?\")) {\r\n      fetch(`/deletePost/${postId}`, {\r\n        method: \"delete\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"jwt\"),\r\n        },\r\n      })\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n          console.log(result);\r\n          toggleDetails();\r\n          navigate(\"/\");\r\n          notifyB(result.message);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"showComment\">\r\n      <div className=\"container\">\r\n        <div className=\"postPic\">\r\n          <img src={item.photo} alt=\"\" />\r\n        </div>\r\n        <div className=\"details\">\r\n          {/* card header */}\r\n          <div\r\n            className=\"card-header\"\r\n            style={{ borderBottom: \"1px solid #00000029\" }}\r\n          >\r\n            <div className=\"card-pic\">\r\n              <img\r\n                src={item.postedBy.Photo ? item.postedBy.Photo : picLink}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <h5>{item.postedBy.name}</h5>\r\n            <div\r\n              className=\"deletePost\"\r\n              onClick={() => {\r\n                removePost(item._id);\r\n              }}\r\n            >\r\n              <span className=\"material-symbols-outlined\">delete</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* commentSection */}\r\n          <div\r\n            className=\"comment-section\"\r\n            style={{ borderBottom: \"1px solid #00000029\" }}\r\n          >\r\n            {item.comments.map((comment) => {\r\n              return (\r\n                <p className=\"comm\">\r\n                  <span className=\"commenter\" style={{ fontWeight: \"bolder\" }}>\r\n                    {comment.postedBy.name}{\" \"}\r\n                  </span>\r\n                  <span className=\"commentText\">{comment.comment}</span>\r\n                </p>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* card content */}\r\n          <div className=\"card-content\">\r\n            <p>{item.likes.length} Likes</p>\r\n            <p>{item.body}</p>\r\n          </div>\r\n\r\n          {/* add Comment */}\r\n          <div className=\"add-comment\">\r\n            <span className=\"material-symbols-outlined\">mood</span>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Add a comment\"\r\n            //   value={comment}\r\n            //   onChange={(e) => {\r\n            //     setComment(e.target.value);\r\n            //   }}\r\n            />\r\n            <button\r\n              className=\"comment\"\r\n            //   onClick={() => {\r\n            //     makeComment(comment, item._id);\r\n            //     toggleComment();\r\n            //   }}\r\n            >\r\n              Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"close-comment\"\r\n        onClick={() => {\r\n          toggleDetails();\r\n        }}\r\n      >\r\n        <span className=\"material-symbols-outlined material-symbols-outlined-comment\">\r\n          close\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}